{"version":3,"sources":["notifica.js"],"names":["_N","toastShow","toastInBody","location","showToast","setTimeout","classList","add","toastHide","time","document","getElementById","timeMilli","progressBar","id","style","transitionDuration","width","hideToast","remove","toastID","deleteToast","toastRemove","toast","message","Toast","dismiss","console","log","confirm","Alert","prototype","show","options","_this","this","_locArr","isDismiss","element","class","_body","body","_toast","createElement","_toastID","Date","getMilliseconds","dataset","locArr","map","loc","createContainer","append","prepend","innerHTML","_container","appendChild","push"],"mappings":"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","file":"notifica.js","sourcesContent":["var _N = (function () {\n    'use strict';\n    // =======================================================\n    // Internal\n    var showToast;\n    var hideToast;\n    var deleteToast;\n    function toastShow(toastInBody, location) {\n        showToast = setTimeout(function () {\n            toastInBody.classList.add('show');\n        }, 100);\n    }\n    function toastHide(toastInBody, time) {\n        if (typeof toastInBody === 'string') {\n            toastInBody = document.getElementById(toastInBody);\n        }\n        var timeMilli = time * 1000;\n        var progressDelay = (timeMilli / 10 / 2);\n        var progressBar = document.getElementById(toastInBody.id + '_progress_fill');\n        progressBar.style.transitionDuration = timeMilli + 'ms';\n        setTimeout(function () {\n            progressBar.style.width = 100 + '%';\n        }, 50);\n        hideToast = setTimeout(function () {\n            toastInBody.classList.remove('show');\n            toastRemove(toastInBody.id);\n        }, timeMilli);\n    }\n    function toastRemove(toastID) {\n        deleteToast = setTimeout(function () {\n            document.getElementById(toastID).remove();\n        }, 310);\n    }\n    // =======================================================\n    // Public API\n    function toast(message, location, time) {\n        // let otherToast: any = document.querySelectorAll('[data-location='+location+']');\n        // if(otherToast.length > 0) {\n        //   let other: any\n        //   for(other of otherToast) {\n        //     other.remove()\n        //     clearTimeout(hideToast)\n        //   }\n        // }\n        // Base 'settings'\n        location = location || 'bl';\n        time = time || 4;\n        var toastInBody = new Toast(message, location);\n        toastShow(toastInBody, location);\n        toastHide(toastInBody, time);\n    }\n    function dismiss(message, location, time) {\n        console.log('Need to build functionality'); // TODO: Need to build functionality\n        location = location || 'bl';\n        time = time || 4;\n        var toastInBody = new Toast(message, location, { dismiss: true });\n        toastShow(toastInBody, location);\n        toastHide(toastInBody, time);\n    }\n    function confirm(message, location, time) {\n        console.log('Need to build functionality'); // TODO: Need to build functionality\n    }\n    return {\n        toast: toast,\n        dismiss: dismiss,\n        confirm: confirm,\n        toastHide: toastHide\n    };\n})();\nvar Alert = /** @class */ (function () {\n    function Alert() {\n    }\n    Alert.prototype.show = function () {\n        console.log('show alert');\n    };\n    return Alert;\n}());\nvar Toast = /** @class */ (function () {\n    function Toast(message, location, options) {\n        var _this = this;\n        this._locArr = [];\n        options = options || { dismiss: false };\n        var isDismiss = options.dismiss || false;\n        var dismiss = { element: '', \"class\": '' };\n        this._body = document.body;\n        this._toast = document.createElement('div');\n        this._toastID = 'toast-notifica-' + new Date().getMilliseconds();\n        this._toast.id = this._toastID;\n        this._toast.classList.add('toast');\n        this._toast.dataset.location = location;\n        this.locArr(location)\n            .map(function (loc) { _this._toast.classList.add(loc); });\n        switch (this.locArr(location)[0]) {\n            case 'top':\n                this.createContainer(location).append(this._toast);\n                break;\n            case 'bottom':\n                this.createContainer(location).prepend(this._toast);\n                break;\n        }\n        this.toastInBody = document.getElementById(this._toastID);\n        if (isDismiss) {\n            dismiss.element = ' <span class=\"close-toast\" onclick=\"_N.toastHide(\\'' + this._toastID + '\\', 0)\">close</span>';\n            dismiss[\"class\"] = ' has-close';\n        }\n        this._toast.innerHTML = '<span class=\"toast-message' + dismiss[\"class\"] + '\">' + message + '</span>' + dismiss.element + '<div class=\"progress-bar\"><div id=\"' + this._toastID + '_progress_fill\" class=\"fill\"></div></div>';\n        return this.toastInBody;\n    }\n    Toast.prototype.createContainer = function (location) {\n        var _this = this;\n        this._container = document.getElementById(location);\n        if (this._container) {\n            return this._container;\n        }\n        else {\n            this._container = document.createElement('div');\n            this._container.id = location;\n            this._container.dataset.location = location;\n            this._container.classList.add('toast-container');\n            this.locArr(location)\n                .map(function (loc) { _this._container.classList.add(loc); });\n            document.body.appendChild(this._container);\n            return document.getElementById(location);\n        }\n    };\n    Toast.prototype.locArr = function (location) {\n        switch (location) {\n            case 'bl':\n                this._locArr.push('bottom', 'left');\n                break;\n            case 'br':\n                this._locArr.push('bottom', 'right');\n                break;\n            case 'tl':\n                this._locArr.push('top', 'left');\n                break;\n            case 'tr':\n                this._locArr.push('top', 'right');\n                break;\n        }\n        return this._locArr;\n    };\n    return Toast;\n}());\n"]}